<?xml version="1.0" encoding="UTF-8" ?>
<schema name="foswiki" version="1.6">

  <fieldType name="string" class="solr.StrField" sortMissingLast="true" omitNorms="true" />
  <fieldType name="boolean" class="solr.BoolField" sortMissingLast="true" omitNorms="true"/>
  <fieldType name="binary" class="solr.BinaryField"/>

  <fieldType name="int" class="solr.IntPointField" docValues="true" />
  <fieldType name="float" class="solr.FloatPointField" docValues="true" />
  <fieldType name="long" class="solr.LongPointField" docValues="true" />
  <fieldType name="double" class="solr.DoublePointField" docValues="true" />

  <fieldType name="date" class="solr.DatePointField" docValues="true" />
  <fieldType name="random" class="solr.RandomSortField" indexed="true" />

  <fieldType name="text_ws" class="solr.TextField" positionIncrementGap="100">
    <analyzer>
      <tokenizer class="solr.WhitespaceTokenizerFactory"/>
    </analyzer>
  </fieldType>

  <fieldType name="text_std" stored="false" indexed="true" class="solr.TextField" positionIncrementGap="100">
    <analyzer>
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="0" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory"/>
    </analyzer>
  </fieldType>

  <fieldType name="text" class="solr.TextField" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="0" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory"/>
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="0" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.SynonymGraphFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- a general unstemmed text field; see below for language specific field types -->
  <fieldType name="text_generic" class="solr.TextField" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / --> 
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="1" 
        catenateNumbers="1" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / --> 
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SynonymGraphFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
  </fieldType>

  <fieldType name="text_prefix" class="solr.TextField" indexed="true" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.EdgeNGramFilterFactory" minGramSize="4" maxGramSize="15" />
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
  </fieldType>

  <fieldType name="text_suffix" class="solr.TextField" indexed="true" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.ReverseStringFilterFactory" />
      <filter class="solr.EdgeNGramFilterFactory" minGramSize="4" maxGramSize="15" />
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.ReverseStringFilterFactory" />
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
  </fieldType>

  <fieldType name="text_substr" class="solr.TextField" indexed="true" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.NGramFilterFactory" minGramSize="3" maxGramSize="5" />
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
  </fieldType>

  <!-- analysis for spell checking -->
  <fieldType name="text_spell" class="solr.TextField" positionIncrementGap="100" >
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.StopFilterFactory" words="lang/stopwords.txt"/>
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- A general unstemmed text field that indexes tokens normally and also
       reversed (via ReversedWildcardFilterFactory), to enable more efficient 
       leading wildcard queries. -->
  <fieldType name="text_rev" class="solr.TextField" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.ReversedWildcardFilterFactory" withOriginal="true" maxPosAsterisk="3" maxPosQuestion="2" maxFractionAsterisk="0.33"/>
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
      />
      <filter class="solr.SynonymGraphFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- same as text_generic but normalizing some character encodings  -->
  <fieldType name="text_charnorm" class="solr.TextField" positionIncrementGap="100" >
    <analyzer type="index">
      <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="1" 
        catenateNumbers="1" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
    <analyzer type="query">
      <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.SynonymGraphFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
    </analyzer>
  </fieldType>

  <!-- processing text usable for sorting -->
  <fieldType name="text_sort" class="solr.TextField" sortMissingLast="true" omitNorms="true">
    <analyzer>
      <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt"/>
      <!-- KeywordTokenizer does no actual tokenizing, so the entire
           input string is preserved as a single token
        -->
      <tokenizer class="solr.KeywordTokenizerFactory"/>
      <!-- The LowerCase TokenFilter does what you expect, which can be
           when you want your sorting to be case insensitive
        -->
      <filter class="solr.LowerCaseFilterFactory" />
      <!-- The TrimFilter removes any leading or trailing whitespace -->
      <filter class="solr.TrimFilterFactory" />
    </analyzer>
  </fieldType>

  <fieldType name="text_wikiword" class="solr.TextField" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.KeywordTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.ReversedWildcardFilterFactory" withOriginal="true" maxPosAsterisk="3" maxPosQuestion="2" maxFractionAsterisk="0.33"/>
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.KeywordTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SynonymGraphFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
    </analyzer>
  </fieldType>
  
  <fieldType name="phonetic" stored="false" indexed="true" class="solr.TextField" >
    <analyzer>
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.DoubleMetaphoneFilterFactory" inject="false"/>
    </analyzer>
  </fieldType>

  <fieldType name="payloads" stored="false" indexed="true" class="solr.TextField" >
    <analyzer>
      <tokenizer class="solr.WhitespaceTokenizerFactory"/>
      <filter class="solr.DelimitedPayloadTokenFilterFactory" encoder="float"/>
    </analyzer>
  </fieldType>

  <!-- lowercases the entire field value, keeping it as a single token.  -->
  <fieldType name="lowercase" class="solr.TextField" positionIncrementGap="100">
    <analyzer>
      <tokenizer class="solr.KeywordTokenizerFactory"/>
      <filter class="solr.LowerCaseFilterFactory" />
    </analyzer>
  </fieldType>

  <fieldType name="text_path" class="solr.TextField" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.PathHierarchyTokenizerFactory" delimiter="/" />
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.KeywordTokenizerFactory" />
    </analyzer>
  </fieldType>

  <!-- for alphabetic range bucketing -->
  <fieldType name="first_letter" class="solr.TextField">
    <analyzer type="index">
      <tokenizer class="solr.PatternTokenizerFactory" pattern="^(\s*[^\s]).*" group="1" />
      <filter class="solr.UpperCaseFilterFactory"/>
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.KeywordTokenizerFactory"/>
   </analyzer>
  </fieldType>

  <!-- since fields of this type are by default not stored or indexed,
       any data added to them will be ignored outright.  --> 
  <fieldType name="ignored" stored="false" indexed="false" multiValued="true" class="solr.StrField" />
  <fieldType name="point" class="solr.PointType" dimension="2" subFieldSuffix="_d"/>

  <!-- A specialized field for geospatial search. If indexed, this fieldType must not be multivalued. -->
  <fieldType name="location" class="solr.LatLonPointSpatialField" docValues="true"/>

  <!-- Spatial rectangle (bounding box) field. It supports most spatial predicates, and has
   special relevancy modes: score=overlapRatio|area|area2D (local-param to the query).  DocValues is recommended for
   relevancy. -->
  <fieldType name="bbox" class="solr.BBoxField"
             geo="true" distanceUnits="kilometers" numberType="_bbox_coord" />
  <fieldType name="_bbox_coord" class="solr.DoublePointField" docValues="true" stored="false"/>
  <fieldType name="currency" class="solr.CurrencyFieldType" amountLongSuffix="_l_ns" codeStrSuffix="_s_ns" defaultCurrency="USD" currencyConfig="currency.xml" />

  <fieldType name="type" class="solr.TextField">
    <analyzer>
        <tokenizer class="solr.WhitespaceTokenizerFactory"/>
        <filter class="solr.SynonymGraphFilterFactory" synonyms="typemap.txt" ignoreCase="true" expand="false"/>
    </analyzer>
  </fieldType>

  <!-- language specific text fields -->

  <!-- Arabic -->
  <fieldType name="text_ar" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- for any non-arabic -->
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_ar.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <!-- normalizes ﻯ to ﻱ, etc -->
      <filter class="solr.ArabicNormalizationFilterFactory"/>
      <filter class="solr.ArabicStemFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- Bulgarian -->
  <fieldType name="text_bg" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/> 
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_bg.txt" / --> 
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.BulgarianStemFilterFactory"/>       
    </analyzer>
  </fieldType>

  <!-- CJK bigram (see text_ja for a Japanese configuration using morphological analysis) -->
  <fieldType name="text_cjk" class="solr.TextField" positionIncrementGap="100">
    <analyzer>
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- normalize width before bigram, as e.g. half-width dakuten combine  -->
      <filter class="solr.CJKWidthFilterFactory"/>
      <!-- for any non-CJK -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.CJKBigramFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- Catalan -->
  <fieldType name="text_ca" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_ca.txt" / -->
      <!-- removes l', etc -->
      <filter class="solr.ElisionFilterFactory" ignoreCase="true" articles="lang/contractions_ca.txt"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Catalan"/>       
    </analyzer>
  </fieldType>

  <!-- Kurdish -->
  <fieldType name="text_ckb" class="solr.TextField" positionIncrementGap="100">
    <analyzer>
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_ckb.txt"/ -->
      <filter class="solr.SoraniNormalizationFilterFactory"/>
      <!-- for any latin text -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SoraniStemFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- Czech -->
  <fieldType name="text_cz" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_cz.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.CzechStemFilterFactory"/>       
    </analyzer>
  </fieldType>

  <!-- Danish -->
  <fieldType name="text_da" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_da.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Danish"/>       
    </analyzer>
  </fieldType>

  <!-- German -->
  <fieldType name="text_de" class="solr.TextField" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_de.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="1" 
        catenateNumbers="1" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
      <filter class="solr.KeywordMarkerFilterFactory" protected="protwords.txt"/>
      <filter class="solr.SnowballPorterFilterFactory" language="German2" /> 
      <!-- 
        alternatives: 
        <filter class="solr.GermanStemFilterFactory"  /> 
        <filter class="solr.GermanLightStemFilterFactory"/>
        <filter class="solr.GermanMinimalStemFilterFactory"  /> 
        <filter class="solr.SnowballPorterFilterFactory" language="German" /> 
      -->
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_de.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
      />
      <filter class="solr.SynonymGraphFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
      <filter class="solr.KeywordMarkerFilterFactory" protected="protwords.txt"/>
      <filter class="solr.SnowballPorterFilterFactory" language="German2" /> 
      <!-- 
        alternatives: 
        <filter class="solr.GermanStemFilterFactory"  /> 
        <filter class="solr.GermanLightStemFilterFactory"/>
        <filter class="solr.GermanMinimalStemFilterFactory"  /> 
        <filter class="solr.SnowballPorterFilterFactory" language="German" /> 
      -->
    </analyzer>
  </fieldType>

  <!-- Greek -->
  <fieldType name="text_el" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_el.txt" / -->
      <!-- greek specific lowercase for sigma -->
      <filter class="solr.GreekLowerCaseFilterFactory"/>
      <filter class="solr.GreekStemFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- English -->
  <fieldType name="text_en" class="solr.TextField" positionIncrementGap="100">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_en.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="1" 
        catenateNumbers="1" 
        catenateAll="0" 
        preserveOriginal="1" 
        stemEnglishPossessive="1"
      />
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
      <filter class="solr.KeywordMarkerFilterFactory" protected="protwords.txt"/>
      <filter class="solr.SnowballPorterFilterFactory" language="English" />
      <!-- alternatives:
        <filter class="solr.PorterStemFilterFactory"/>
        <filter class="solr.SnowballPorterFilterFactory" language="English" />
        <filter class="solr.EnglishMinimalStemFilterFactory" />
      -->
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_en.txt" / -->
      <filter class="solr.WordDelimiterGraphFilterFactory" 
        splitOnCaseChange="1" 
        generateWordParts="1" 
        generateNumberParts="1" 
        catenateWords="0" 
        catenateNumbers="0" 
        catenateAll="0" 
        preserveOriginal="1" 
        stemEnglishPossessive="1"
      />
      <filter class="solr.SynonymGraphFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.RemoveDuplicatesTokenFilterFactory" />
      <filter class="solr.KeywordMarkerFilterFactory" protected="protwords.txt"/>
      <filter class="solr.SnowballPorterFilterFactory" language="English" />
      <!-- alternatives:
        <filter class="solr.PorterStemFilterFactory"/>
        <filter class="solr.SnowballPorterFilterFactory" language="English" />
        <filter class="solr.EnglishMinimalStemFilterFactory" />
      -->
    </analyzer>
  </fieldType>

  <!-- Spanish -->
  <fieldType name="text_es" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_es.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SpanishLightStemFilterFactory"/>
      <!-- more aggressive: <filter class="solr.SnowballPorterFilterFactory" language="Spanish"/> -->
    </analyzer>
  </fieldType>

  <!-- Basque -->
  <fieldType name="text_eu" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_eu.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Basque"/>
    </analyzer>
  </fieldType>
  
  <!-- Persian -->
  <fieldType name="text_fa" class="solr.TextField" positionIncrementGap="100">
    <analyzer>
      <!-- for ZWNJ -->
      <charFilter class="solr.PersianCharFilterFactory"/>
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_fa.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.ArabicNormalizationFilterFactory"/>
      <filter class="solr.PersianNormalizationFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- Finnish -->
  <fieldType name="text_fi" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_fi.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Finnish"/>
      <!-- less aggressive: <filter class="solr.FinnishLightStemFilterFactory"/> -->
    </analyzer>
  </fieldType>

  <!-- French -->
  <fieldType name="text_fr" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_fr.txt" format="snowball" / -->
      <!-- removes l', etc -->
      <filter class="solr.ElisionFilterFactory" ignoreCase="true" articles="lang/contractions_fr.txt"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.FrenchLightStemFilterFactory"/>
      <!-- less aggressive: <filter class="solr.FrenchMinimalStemFilterFactory"/> -->
      <!-- more aggressive: <filter class="solr.SnowballPorterFilterFactory" language="French"/> -->
    </analyzer>
  </fieldType>

  <!-- Irish -->
  <fieldType name="text_ga" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_ga.txt" / -->
      <!-- removes d', etc -->
      <filter class="solr.ElisionFilterFactory" ignoreCase="true" articles="lang/contractions_ga.txt"/>
      <!-- removes n-, etc. position increments is intentionally false! -->
      <filter class="solr.StopFilterFactory" ignoreCase="true" words="lang/hyphenations_ga.txt"/>
      <filter class="solr.IrishLowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Irish"/>
    </analyzer>
  </fieldType>

  <!-- Galician -->
  <fieldType name="text_gl" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_gl.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.GalicianStemFilterFactory"/>
      <!-- less aggressive: <filter class="solr.GalicianMinimalStemFilterFactory"/> -->
    </analyzer>
  </fieldType>

  <!-- Hindi -->
  <fieldType name="text_hi" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_hi.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <!-- normalizes unicode representation -->
      <filter class="solr.IndicNormalizationFilterFactory"/>
      <!-- normalizes variation in spelling -->
      <filter class="solr.HindiNormalizationFilterFactory"/>
      <filter class="solr.HindiStemFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- Hungarian -->
  <fieldType name="text_hu" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_hu.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Hungarian"/>
      <!-- less aggressive: <filter class="solr.HungarianLightStemFilterFactory"/> -->   
    </analyzer>
  </fieldType>

  <!-- Armenian -->
  <fieldType name="text_hy" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_hy.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Armenian"/>
    </analyzer>
  </fieldType>

  <!-- Indonesian -->
  <fieldType name="text_id" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_id.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <!-- for a less aggressive approach (only inflectional suffixes), set stemDerivational to false -->
      <filter class="solr.IndonesianStemFilterFactory" stemDerivational="true"/>
    </analyzer>
  </fieldType>

  <!-- Italian -->
  <fieldType name="text_it" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_it.txt" format="snowball" / -->
      <!-- removes l', etc -->
      <filter class="solr.ElisionFilterFactory" ignoreCase="true" articles="lang/contractions_it.txt"/>
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.ItalianLightStemFilterFactory"/>
      <!-- more aggressive: <filter class="solr.SnowballPorterFilterFactory" language="Italian"/> -->
    </analyzer>
  </fieldType>

  <!-- Japanese using morphological analysis (see text_cjk for a configuration using bigramming)

       NOTE: If you want to optimize search for precision, use default operator AND in your query
       parser config with <solrQueryParser defaultOperator="AND"/> further down in this file.  Use 
       OR if you would like to optimize for recall (default).
  -->
  <fieldType name="text_ja" class="solr.TextField" positionIncrementGap="100" autoGeneratePhraseQueries="false">
    <analyzer>
    <!-- Kuromoji Japanese morphological analyzer/tokenizer (JapaneseTokenizer)

         Kuromoji has a search mode (default) that does segmentation useful for search.  A heuristic
         is used to segment compounds into its parts and the compound itself is kept as synonym.

         Valid values for attribute mode are:
            normal: regular segmentation
            search: segmentation useful for search with synonyms compounds (default)
          extended: same as search mode, but unigrams unknown words (experimental)

         For some applications it might be good to use search mode for indexing and normal mode for
         queries to reduce recall and prevent parts of compounds from being matched and highlighted.
         Use <analyzer type="index"> and <analyzer type="query"> for this and mode normal in query.

         Kuromoji also has a convenient user dictionary feature that allows overriding the statistical
         model with your own entries for segmentation, part-of-speech tags and readings without a need
         to specify weights.  Notice that user dictionaries have not been subject to extensive testing.

         User dictionary attributes are:
                   userDictionary: user dictionary filename
           userDictionaryEncoding: user dictionary encoding (default is UTF-8)

         See lang/userdict_ja.txt for a sample user dictionary file.

         Punctuation characters are discarded by default.  Use discardPunctuation="false" to keep them.

         See http://wiki.apache.org/solr/JapaneseLanguageSupport for more on Japanese language support.
      -->
      <tokenizer class="solr.JapaneseTokenizerFactory" mode="search"/>
      <!--<tokenizer class="solr.JapaneseTokenizerFactory" mode="search" userDictionary="lang/userdict_ja.txt"/>-->
      <!-- Removes common tokens typically not useful for search, but have a negative effect on ranking -->
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_ja.txt" / -->
      <!-- Reduces inflected verbs and adjectives to their base/dictionary forms (辞書形) -->
      <filter class="solr.JapaneseBaseFormFilterFactory"/>
      <!-- Removes tokens with certain part-of-speech tags -->
      <!-- filter class="solr.JapanesePartOfSpeechStopFilterFactory" tags="lang/stoptags_ja.txt" / -->
      <!-- Normalizes full-width romaji to half-width and half-width kana to full-width (Unicode NFKC subset) -->
      <filter class="solr.CJKWidthFilterFactory"/>
      <!-- Normalizes common katakana spelling variations by removing any last long sound character (U+30FC) -->
      <filter class="solr.JapaneseKatakanaStemFilterFactory" minimumLength="4"/>
      <!-- Lower-cases romaji characters -->
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- Latvian -->
  <fieldType name="text_lv" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_lv.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.LatvianStemFilterFactory"/>
    </analyzer>
  </fieldType>

  <!-- Dutch -->
  <fieldType name="text_nl" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_nl.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.StemmerOverrideFilterFactory" dictionary="lang/stemdict_nl.txt" ignoreCase="false"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Dutch"/>
    </analyzer>
  </fieldType>

  <!-- Norwegian -->
  <fieldType name="text_no" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_no.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Norwegian"/>
      <!-- less aggressive: <filter class="solr.NorwegianLightStemFilterFactory" variant="nb"/> -->
      <!-- singular/plural: <filter class="solr.NorwegianMinimalStemFilterFactory" variant="nb"/> -->
      <!-- The "light" and "minimal" stemmers support variants: nb=Bokmål, nn=Nynorsk, no=Both -->
    </analyzer>
  </fieldType>

  <!-- Portuguese -->
  <fieldType name="text_pt" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_pt.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.PortugueseLightStemFilterFactory"/>
      <!-- less aggressive: <filter class="solr.PortugueseMinimalStemFilterFactory"/> -->
      <!-- more aggressive: <filter class="solr.SnowballPorterFilterFactory" language="Portuguese"/> -->
      <!-- most aggressive: <filter class="solr.PortugueseStemFilterFactory"/> -->
    </analyzer>
  </fieldType>

  <!-- Romanian -->
  <fieldType name="text_ro" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_ro.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Romanian"/>
    </analyzer>
  </fieldType>

  <!-- Russian -->
  <fieldType name="text_ru" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_ru.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Russian"/>
      <!-- less aggressive: <filter class="solr.RussianLightStemFilterFactory"/> -->
    </analyzer>
  </fieldType>

  <!-- Swedish -->
  <fieldType name="text_sv" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_sv.txt" format="snowball" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Swedish"/>
      <!-- less aggressive: <filter class="solr.SwedishLightStemFilterFactory"/> -->
    </analyzer>
  </fieldType>

  <!-- Thai -->
  <fieldType name="text_th" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.ThaiTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_th.txt" / -->
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
  </fieldType>
  
  <!-- Turkish -->
  <fieldType name="text_tr" class="solr.TextField" positionIncrementGap="100">
    <analyzer> 
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <!-- filter class="solr.StopFilterFactory" words="lang/stopwords_tr.txt" / -->
      <filter class="solr.ApostropheFilterFactory"/>
      <filter class="solr.TurkishLowerCaseFilterFactory"/>
      <filter class="solr.SnowballPorterFilterFactory" language="Turkish"/>
    </analyzer>
  </fieldType>

  <!-- If you remove this field, you must _also_ disable the update log in solrconfig.xml
    or Solr won't start. _version_ and update log are required for SolrCloud
  --> 
  <field name="_version_" type="long" indexed="true" stored="true"/>
  
  <!-- points to the root document of a block of nested documents. Required for nested
    document support, may be removed otherwise
  -->
  <field name="_root_" type="string" indexed="true" stored="false"/>

  <field name="timestamp" type="int" multiValued="false" required="true" />
  <field name="spell" type="text_spell" stored="false" multiValued="true"/>

  <!-- foswiki schema -->

  <!-- COMMON TO ALL TYPES: -->

  <!-- id: Main.WebHome, Main.WebHome.logo.png -->
  <field name="id" type="string" required="true" /> 

  <!-- language: language of this document -->
  <field name="language" type="string" /> 

  <!-- support for uima processing chain -->
  <field name="concept" type="string" multiValued="true" />
  <field name="sentence" type="text_generic" multiValued="true" />

  <!-- url: pointing to the page to render the hit -->
  <field name="url" type="string" required="true" /> 

  <!-- source: source from where the content comes from -->
  <field name="source" type="string" default="wiki" /> 

  <!-- type: topic, gif, jpg, png, ... all kind of extensions -->
  <field name="type" type="string" multiValued="true" termVectors="true" /> <!-- not using solr typemaps anymore -->
  <field name="web" type="string" />
  <field name="webcat" type="string" multiValued="true" termVectors="true" />
  <field name="topic" type="string" />
  <field name="webtopic" type="string" /> <!-- useful for autocompletion in a jump box -->

  <!-- renditions -->
  <field name="icon" type="string" indexed="false" /> <!-- url -->
  <field name="thumbnail" type="string" indexed="false" /> <!-- url -->

  <!-- 
   information about the document this one is contained in or part of.
     * for attachments and comments, this is the topic
     * for topics, this is the web
     * for webs, this is is the parent web
  -->
  <field name="container_id" type="string" /> <!-- id -->
  <field name="container_web" type="string" />
  <field name="container_topic" type="string" />
  <field name="container_url" type="string" /> <!-- url -->
  <field name="container_title" type="string" /> <!-- display title -->

  <!-- this field stores the ACLs of a topic or attachment -->
  <field name="access_granted" type="string" stored="false" multiValued="true" />
  <field name="edit_granted" type="string" stored="false" multiValued="true" />

  <!-- title: for topics this is the TopicTitle formfield or TOPICTITLE preference, defaults to topic;
      for attachments this is the filename with the extension stripped off
  -->
  <field name="title" type="string" />
  <field name="summary" type="text_generic" />
  <field name="author" type="string" />
  <field name="author_title" type="string" /> <!-- display title -->
  <field name="contributor" type="string" multiValued="true" />
  <field name="version" type="int" />
  <field name="text" type="text_generic" stored="true" termVectors="true" termPositions="true" termOffsets="true" />
  <field name="date" type="date" />
  <field name="createauthor" type="string" />
  <field name="createauthor_title" type="string" /> <!-- display title -->
  <field name="createdate" type="date" />
  <field name="catchall" type="text_generic" multiValued="true" stored="false" />
  <field name="phonetic" type="phonetic" multiValued="true" />
  <field name="charnorm" type="text_charnorm" multiValued="true" stored="false" />

  <!-- state: used by comments or any other application that tracks specific states of a topic;
      example values are: new, unapproved, approved, draft, unpublished, published, ...
  -->
  <field name="state" type="string" />

  <!-- social values -->
  <field name="likes" type="int" default="0" />
  <field name="dislikes" type="int" default="0" />
  <field name="total_likes" type="int" default="0" />

  <!-- TOPICS: -->
  <field name="parent" type="string" />
  <field name="topic_search" type="text_wikiword" />
  <field name="web_search" type="text_wikiword" />

  <!-- form: this is the web.topic.  -->
  <field name="form" type="string" />

  <!-- preference: this field catches all topic preferences. they are available as
      preference_NAMEOFPREFERENCE separately also -->
  <field name="preference" type="string" multiValued="true" />

  <!-- attachments: this is a list of all attachment names of this topic -->
  <field name="attachment" type="string" multiValued="true" />

  <!-- outgoing: list of outgoing links -->
  <field name="outgoing" type="string" multiValued="true" />

  <!-- macros: list of macros used in this document directly -->
  <field name="macro" type="string" multiValued="true" stored="false" />

  <!-- ClassificationPlugin -->
  
  <!-- category: this field catches all formfield values of type cat; will be propagated from topics to attachments -->
  <field name="category" type="string" multiValued="true" termVectors="true" />
  <field name="category_search" type="text_generic" multiValued="true" stored="false" termVectors="true" omitNorms="true" />

  <!-- tag: this field catches all formfield values of type tag; will be propagated from topics to attachments -->
  <field name="tag" type="string" multiValued="true" termVectors="true" />
  <field name="tag_search" type="text_generic" multiValued="true" stored="false" termVectors="true" omitNorms="true" />

  <!-- ATTACHMENTS: -->
  <field name="name" type="string" />
  <field name="comment" type="text_generic" />
  <field name="hidden" type="boolean" /> 
  <field name="size" type="int" />
  <field name="width" type="int" />
  <field name="height" type="int" />

  <!-- dynamicFields: these are used to cover formfield definitions
      a formfield is named using a field_ prefix to prevent a name
      clash with other solr fields.

      Some foswiki types match onto solr fieldTypes, i.e. date.
      the _lst fieldType is used for any multivalue formfields like
      select, checkbox, etc formfields.

      For insance: a field named ApprovalDate of type date will
      be indexed as field_ApprovalDate_dt.

      A filed ProjectMembers of type select+mulit will be indexed as 
      field_ProjectMembers_lst. This is stored as a comma separated
      list in Foswiki but will be split up and stored into the multiValued
      solr field field_ProjectMembers_lst each.
  -->
  <dynamicField name="*_i"  type="int"/>
  <dynamicField name="*_s"  type="string"/>
  <dynamicField name="*_first_letter"  type="first_letter" stored="false" />
  <dynamicField name="*_std"  type="text_std"/>
  <dynamicField name="*_ws"  type="text_ws" stored="false" />
  <dynamicField name="*_l"  type="long"/>
  <dynamicField name="*_t"  type="text_generic"/>
  <dynamicField name="*_b"  type="boolean"/>
  <dynamicField name="*_f"  type="float"/>
  <dynamicField name="*_d"  type="double"/>
  <dynamicField name="*_dt" type="date"/>
  <dynamicField name="*_lst" type="string" multiValued="true" termVectors="true"/>

  <!-- search & sort fields  -->
  <dynamicField name="*_search" type="text_generic" stored="false" termVectors="true" />
  <dynamicField name="*_sort" type="text_sort" stored="false" />
  <dynamicField name="*_prefix" type="text_prefix" multiValued="true" stored="false" />
  <dynamicField name="*_suffix" type="text_suffix" multiValued="true" stored="false" />
  <dynamicField name="*_substr" type="text_substr" multiValued="true" stored="false" />

  <!-- fields for specific applications -->
  <dynamicField name="*_coordinate" type="double" indexed="true"  stored="false" />
  <dynamicField name="*_currency" type="currency" indexed="true"  stored="true" />
  <dynamicField name="*_l_ns" type="long" indexed="true"  stored="true" />
  <dynamicField name="*_s_ns" type="string" indexed="true"  stored="true" />
  <dynamicField name="*_bbox" type="bbox" indexed="true"  stored="true" />
  <dynamicField name="*_point" type="point" indexed="true"  stored="true" />
  <dynamicField name="*_location" type="location" indexed="true"  stored="true" />
  <dynamicField name="*_path"  type="text_path" indexed="true"  stored="true" />

  <!-- language specific fields -->
  <dynamicField name="*_ar" type="text_ar" stored="false" />
  <dynamicField name="*_bg" type="text_bg" stored="false" />
  <dynamicField name="*_ca" type="text_ca" stored="false" />
  <dynamicField name="*_cjk" type="text_cjk" stored="false" />
  <dynamicField name="*_ckb" type="text_ckb" stored="false" />
  <dynamicField name="*_cz" type="text_cz" stored="false" />
  <dynamicField name="*_da" type="text_da" stored="false" />
  <dynamicField name="*_de" type="text_de" stored="false" />
  <dynamicField name="*_el" type="text_el" stored="false" />
  <dynamicField name="*_en" type="text_en" stored="false" />
  <dynamicField name="*_es" type="text_es" stored="false" />
  <dynamicField name="*_eu" type="text_eu" stored="false" />
  <dynamicField name="*_fa" type="text_fa" stored="false" />
  <dynamicField name="*_fi" type="text_fi" stored="false" />
  <dynamicField name="*_fr" type="text_fr" stored="false" />
  <dynamicField name="*_ga" type="text_ga" stored="false" />
  <dynamicField name="*_gl" type="text_gl" stored="false" />
  <dynamicField name="*_hi" type="text_hi" stored="false" />
  <dynamicField name="*_hu" type="text_hu" stored="false" />
  <dynamicField name="*_hy" type="text_hy" stored="false" />
  <dynamicField name="*_id" type="text_id" stored="false" />
  <dynamicField name="*_it" type="text_it" stored="false" />
  <dynamicField name="*_ja" type="text_ja" stored="false" />
  <dynamicField name="*_lv" type="text_lv" stored="false" />
  <dynamicField name="*_nl" type="text_nl" stored="false" />
  <dynamicField name="*_no" type="text_no" stored="false" />
  <dynamicField name="*_pt" type="text_pt" stored="false" />
  <dynamicField name="*_ro" type="text_ro" stored="false" />
  <dynamicField name="*_ru" type="text_ru" stored="false" />
  <dynamicField name="*_sv" type="text_sv" stored="false" />
  <dynamicField name="*_th" type="text_th" stored="false" />
  <dynamicField name="*_tr" type="text_tr" stored="false" />

  <!-- ignore all fields with prefix ignore_; that's used when uploading documents via tika --> 
  <dynamicField name="ignored_*" type="ignored" multiValued="true" />

  <dynamicField name="random_*" type="random" />

  <!-- Field to use to determine and enforce document uniqueness. 
      Unless this field is marked with required="false", it will be a required field
   -->
  <uniqueKey>id</uniqueKey>

  <!-- field for the QueryParser to use when an explicit fieldname is absent -->
  <df>catchall</df>

  <!-- copyField commands copy one field to another at the time a document
        is added to the index.  It's used either to index the same field differently,
        or to add multiple fields to the same field for easier/faster searching.  -->

  <!-- foswiki copy fields -->
  <copyField source="web" dest="web_sort" omitNorms="true" />
  <copyField source="topic" dest="topic_sort" omitNorms="true" />
  <copyField source="title" dest="title_sort" omitNorms="true" />
  <copyField source="title" dest="title_prefix" omitNorms="true" />
  <copyField source="title" dest="title_suffix" omitNorms="true" />
  <copyField source="title" dest="title_substr" omitNorms="true" />
  <copyField source="title" dest="title_first_letter" omitNorms="true" />

  <copyField source="category" dest="category_search"/>
  <copyField source="tag" dest="tag_search"/>
  <copyField source="title" dest="title_search" />
  <copyField source="topic" dest="topic_search" />
  <copyField source="web" dest="web_search" />
  <copyField source="webtopic" dest="webtopic_search"/>
  <copyField source="name" dest="name_search" />

  <copyField source="*_s" dest="*_search"/>
  <copyField source="*_s" dest="*_prefix"/>
  <copyField source="*_s" dest="*_substr"/>
  <copyField source="*_s" dest="*_sort"/>
  <copyField source="*_s" dest="*_std"/>

  <copyField source="web" dest="web_std" omitNorms="true" />
  <copyField source="title" dest="title_std" omitNorms="true" />
  <copyField source="topic" dest="topic_std" omitNorms="true" />
  <copyField source="name" dest="name_std" omitNorms="true" />

  <copyField source="text" dest="text_std"/>
  <copyField source="text" dest="text_ws"/>
  <copyField source="text" dest="text_suffix"/>
  <copyField source="text" dest="text_prefix"/>
  <copyField source="text" dest="text_substr"/>

  <copyField source="attachment" dest="catchall"/>
  <copyField source="category" dest="catchall"/>
  <copyField source="comment" dest="catchall"/>
  <copyField source="field_*" dest="catchall"/>
  <copyField source="form" dest="catchall"/>
  <copyField source="name" dest="catchall"/>
  <copyField source="tag" dest="catchall"/>
  <copyField source="text" dest="catchall"/>
  <copyField source="title" dest="catchall"/>
  <copyField source="topic" dest="catchall"/>
  <copyField source="type" dest="catchall"/>
  <copyField source="concept" dest="catchall"/>
  <copyField source="sentence" dest="catchall"/>
  <copyField source="summary" dest="catchall"/>

  <copyField source="attachment" dest="charnorm"/>
  <copyField source="category" dest="charnorm"/>
  <copyField source="comment" dest="charnorm"/>
  <copyField source="field_*" dest="charnorm"/>
  <copyField source="form" dest="charnorm"/>
  <copyField source="name" dest="charnorm"/>
  <copyField source="tag" dest="charnorm"/>
  <copyField source="text" dest="charnorm"/>
  <copyField source="title" dest="charnorm"/>
  <copyField source="topic" dest="charnorm"/>
  <copyField source="type" dest="charnorm"/>
  <copyField source="concept" dest="charnorm"/>
  <copyField source="sentence" dest="charnorm"/>

  <copyField source="attachment" dest="phonetic"/>
  <copyField source="category" dest="phonetic"/>
  <copyField source="comment" dest="phonetic"/>
  <copyField source="field_*" dest="phonetic"/>
  <copyField source="form" dest="phonetic"/>
  <copyField source="name" dest="phonetic"/>
  <copyField source="tag" dest="phonetic"/>
  <copyField source="text" dest="phonetic"/>
  <copyField source="title" dest="phonetic"/>
  <copyField source="topic" dest="phonetic"/>
  <copyField source="type" dest="phonetic"/>
  <copyField source="concept" dest="phonetic"/>
  <copyField source="sentence" dest="phonetic"/>

  <copyField source="attachment" dest="spell"/>
  <copyField source="comment" dest="spell"/>
  <copyField source="field_*" dest="spell"/>
  <copyField source="form" dest="spell"/>
  <copyField source="name" dest="spell"/>
  <copyField source="text" dest="spell"/>
  <copyField source="title" dest="spell"/>
  <copyField source="topic" dest="spell"/>
  <copyField source="web" dest="spell"/>
  <copyField source="type" dest="spell"/>
  <copyField source="concept" dest="spell"/>
  <copyField source="sentence" dest="spell"/>

</schema>
